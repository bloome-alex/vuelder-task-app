(function(){"use strict";var t={8499:function(t,e,a){var s=a(144),i=a(1096),n=a(3250),o=a(831),r=a(5057),l=a(2469),c=a(3551),d=a(3347),u=function(){var t=this,e=t._self._c;return e(i.Z,[e(n.Z,{attrs:{app:"",color:"primary",dark:""}},[e("div",{staticClass:"d-flex align-center"},[e(l.Z,{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),e("span",{class:t.$vuetify.breakpoint.smAndDown?"text-h6 ml-4":"text-h4 ml-4"},[t._v("TAREAS DIARIAS")])],1),e(d.Z),e(o.Z,{staticClass:"mr-2",attrs:{small:"",fab:"",color:"accent"},on:{click:function(e){t.taskFormState=!0}}},[e(r.Z,[t._v("add")])],1)],1),e("new-task-form",{on:{"new-task-added":function(e){t.newTask=!0}},model:{value:t.taskFormState,callback:function(e){t.taskFormState=e},expression:"taskFormState"}}),e(c.Z,[e("tasks-viewer",{attrs:{newTask:t.newTask},on:{"task-added":function(e){t.newTask=!1}}})],1)],1)},k=[],p=a(3058),f=a(5223),h=a(7941),m=a(4437),v=a(4735),g=a(5294),Z=a(1726),T=a(5617),b=(a(7658),function(){var t=this,e=t._self._c;return e(v.Z,{attrs:{"max-width":"500",persistent:""},model:{value:t.formState,callback:function(e){t.formState=e},expression:"formState"}},[e(p.Z,{attrs:{"max-width":"500"}},[e(g.Z,{staticClass:"pa-0 ma-0"},[e(m.Z,{attrs:{cols:"10"}},[e(f.EB,[t._v("Ingresar una nueva tarea")])],1),e(m.Z,{attrs:{cols:"2",align:"end"}},[e(o.Z,{attrs:{color:"error",large:"",icon:""},on:{click:function(e){return t.$emit("input",!1)}}},[e(r.Z,[t._v("cancel")])],1)],1),e(f.ZB,[e(Z.Z,{attrs:{"append-icon":"assignment",label:"Titulo",counter:"60",rules:[t=>t.length<=60]||0,hint:"Titulo de la tarea"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e(T.Z,{attrs:{"append-icon":"description",label:"Descripción",rows:"2",counter:"2000",rules:[t=>t.length<=60]||0},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),e(h.Z,{attrs:{label:"¿Quieres añadir subtareas?"},model:{value:t.haveAditionalTasks,callback:function(e){t.haveAditionalTasks=e},expression:"haveAditionalTasks"}}),t.haveAditionalTasks?[t._l(t.aditionalTasks,(function(a,s){return e(g.Z,{key:s,staticClass:"ma-0 pa-0"},[e(m.Z,{attrs:{cols:"10"}},[e(Z.Z,{attrs:{"append-icon":"check_circle"},model:{value:t.aditionalTasks[s].title,callback:function(e){t.$set(t.aditionalTasks[s],"title",e)},expression:"aditionalTasks[index].title"}})],1),e(m.Z,{attrs:{cols:"2",align:"center","align-self":"center"}},[e(o.Z,{attrs:{large:"",icon:"",color:"error"},on:{click:function(e){return t.aditionalTasks.splice(s,1)}}},[e(r.Z,[t._v("delete")])],1)],1)],1)})),e(f.h7,[e(o.Z,{attrs:{block:"",color:"primary"},on:{click:function(e){return t.aditionalTasks.push({complete:!1})}}},[e(r.Z,{attrs:{left:""}},[t._v("add")]),t._v("Añadir una nueva tarea ")],1)],1)]:t._e(),e(f.h7,[e(o.Z,{attrs:{block:"",color:"primary",loading:t.saving},on:{click:t.saveTask}},[e(r.Z,{attrs:{left:""}},[t._v("save")]),t._v("Guardar Tarea ")],1)],1)],2)],1)],1)],1)}),w=[],y=a(6531),_=a(7632),x=a(7484),A=a.n(x);const S="tasks_store",$=1,j="tasks";class C{constructor(){this.dbPromise=(0,y.X3)(S,$,{upgrade(t){t.createObjectStore(j,{keyPath:"id"})}})}async create(t){const e=(0,_.Z)(),a={};a.id=e,a.title=t.title?t.title:"Sin titulo",a.description=t.description?t.description:"",a.haveAditionalTasks=!!t.haveAditionalTasks&&t.haveAditionalTasks,a.aditionalTasks=t.aditionalTasks?t.aditionalTasks:[],a.completed=!1,a.date=A()();const s=await this.dbPromise,i=s.transaction(j,"readwrite"),n=i.objectStore(j);await n.add(a),await i.complete}async read(t){const e=await this.dbPromise,a=e.transaction(j,"readonly"),s=a.objectStore(j),i=await s.get(t);return await a.complete,i}async update(t){const e={};e.id=t.id,e.title=t.title?t.title:"Sin titulo",e.description=t.description?t.description:"",e.haveAditionalTasks=!!t.haveAditionalTasks&&t.haveAditionalTasks,e.aditionalTasks=t.aditionalTasks?t.aditionalTasks:[],e.completed=!!t.completed&&t.completed;const a=await this.dbPromise,s=a.transaction(j,"readwrite"),i=s.objectStore(j);await i.put(e),await s.complete}async delete(t){const e=await this.dbPromise,a=e.transaction(j,"readwrite"),s=a.objectStore(j);await s.delete(t),await a.complete}async getAll(){const t=await this.dbPromise,e=t.transaction(j,"readonly"),a=e.objectStore(j),s=await a.getAll();return await e.complete,s}async getIncompleteTasks(){const t=await this.dbPromise,e=t.transaction(j,"readonly"),a=e.objectStore(j),s=A()(),i=[],n=a.index("completed"),o=IDBKeyRange.only(!1),r=new Promise(((t,e)=>{const a=n.openCursor(o);a.onsuccess=e=>{const a=e.target.result;if(a){const t=a.value,e=A()(t.date);e.isBefore(s,"day")&&i.push(t),a.continue()}else t()},a.onerror=e}));return await r,await e.complete,i}}var B=new C,E={name:"new-task-form",props:{value:{type:Boolean,required:!0}},computed:{formState:{get(){return this.value},set(t){this.$emit("input",t)}}},data(){return{saving:!1,title:"",description:"",haveAditionalTasks:!1,aditionalTasks:[]}},methods:{async saveTask(){this.saving=!0;try{await B.create({title:this.title,description:this.description,haveAditionalTasks:this.haveAditionalTasks,aditionalTasks:this.aditionalTasks}),this.$emit("new-task-added")}catch(t){console.error("error: ",t.message)}finally{this.saving=!1,this.$emit("input",!1)}}}},O=E,P=a(1001),I=(0,P.Z)(O,b,w,!1,null,null,null),F=I.exports,D=a(4192),q=function(){var t=this,e=t._self._c;return e(p.Z,[e(f.EB,[t._v("¿Listo para el día de hoy? Estas son tus tareas pendientes de ayer...")]),t.tasks.length>0?e(f.ZB,[e(D.Z),t._l(t.tasks,(function(a,s){return e(p.Z,{key:a.id,staticClass:"my-4"},[e("task",{on:{input:e=>t.inputTask(s,e),"delete-task":function(e){return t.deleteTask(s,a)}},model:{value:t.tasks[s],callback:function(e){t.$set(t.tasks,s,e)},expression:"tasks[index]"}})],1)})),e(f.h7,[e(o.Z,{attrs:{color:"primary",block:""}},[t._v(" Finalizar el día"),e(r.Z,{attrs:{right:""}},[t._v("check_circle")])],1)],1)],2):e(f.ZB,[t._v(" No hay tareas pendientes para hoy ")])],1)},N=[],M=a(3602),z=function(){var t=this,e=t._self._c;return e(g.Z,{staticClass:"ma-0 pa-0",attrs:{align:"center",justify:"center"}},[e(m.Z,{attrs:{cols:"12",align:"center","align-self":"center"}},[e(M.Z,{attrs:{color:"primary",height:"25",striped:"",value:t.progress},scopedSlots:t._u([{key:"default",fn:function({value:a}){return[e("strong",[t._v(t._s(Math.ceil(a))+"%")])]}}])})],1),e(m.Z,{attrs:{cols:t.$vuetify.breakpoint.smAndDown?6:10,align:"center","align-self":"center"}},[e(o.Z,{attrs:{text:"",block:""},on:{click:function(e){t.taskInfoState=!0}}},[t._v(t._s(t.task.title))]),e(v.Z,{attrs:{"max-width":"500"},model:{value:t.taskInfoState,callback:function(e){t.taskInfoState=e},expression:"taskInfoState"}},[e(p.Z,{attrs:{color:"primary"}},[e(g.Z,{staticClass:"ma-0 pa-0"},[e(m.Z,{attrs:{cols:"10","align-self":"center"}},[e(f.EB,[t._v(t._s(t.task.title))])],1),e(m.Z,{attrs:{cols:"2","align-self":"start"}},[e(o.Z,{attrs:{icon:"",color:"white"},on:{click:function(e){t.taskInfoState=!1}}},[e(r.Z,[t._v("close")])],1)],1),e(m.Z,{attrs:{cols:"12"}},[e(M.Z,{attrs:{color:"black",striped:"",height:"25",value:t.progress},scopedSlots:t._u([{key:"default",fn:function({value:a}){return[e("strong",[t._v(t._s(Math.ceil(a))+"%")])]}}])})],1)],1),e(f.ZB,[e(D.Z),e("span",[t._v(t._s(t.task.description))]),t.task.haveAditionalTasks?t._l(t.task.aditionalTasks,(function(a,s){return e(g.Z,{key:s,staticClass:"ma-0 pa-0",attrs:{align:"center",justify:"center"}},[e(m.Z,{attrs:{cols:"10","align-self":"center"}},[t._v(" "+t._s(a.title)+" ")]),e(m.Z,{attrs:{cols:"2","align-self":"center"}},[e(h.Z,{attrs:{color:"white"},model:{value:t.task.aditionalTasks[s].complete,callback:function(e){t.$set(t.task.aditionalTasks[s],"complete",e)},expression:"task.aditionalTasks[index].complete"}})],1)],1)})):t._e()],2)],1)],1)],1),e(m.Z,{attrs:{cols:t.$vuetify.breakpoint.smAndDown?6:2,"align-self":"center"}},[e(g.Z,{staticClass:"ma-0 pa-0",attrs:{align:"center",justify:"center"}},[e(m.Z,{attrs:{cols:"4","align-self":"center"}},[e(o.Z,{attrs:{icon:""},on:{click:function(e){t.deleteTask=!0}}},[e(r.Z,[t._v("delete")])],1),t.deleteTask?[e("delete-task",{on:{"delete-task":function(e){return t.$emit("delete-task",t.task)}},model:{value:t.deleteTask,callback:function(e){t.deleteTask=e},expression:"deleteTask"}})]:t._e()],2),e(m.Z,{attrs:{cols:"4","align-self":"center"}},[e(o.Z,{attrs:{icon:""},on:{click:function(e){t.editTask=!0}}},[e(r.Z,[t._v("edit")])],1),t.editTask?[e("edit-task",{attrs:{open:t.editTask},on:{input:t.inputEditTask,close:function(e){t.editTask=!1}},model:{value:t.task,callback:function(e){t.task=e},expression:"task"}})]:t._e()],2),e(m.Z,{attrs:{cols:"4","align-self":"center"}},[e(h.Z,{attrs:{color:"success"},model:{value:t.task.completed,callback:function(e){t.$set(t.task,"completed",e)},expression:"task.completed"}})],1)],1)],1)],1)},R=[],G=function(){var t=this,e=t._self._c;return e(v.Z,{attrs:{"max-width":"500",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(p.Z,[e(f.EB,[t._v("Edición de tarea")]),e(f.ZB,[e(D.Z),e(Z.Z,{attrs:{"append-icon":"assignment",label:"Titulo",counter:"60",rules:[t=>t.length<=60]||0,hint:"Titulo de la tarea"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e(T.Z,{attrs:{"append-icon":"description",label:"Descripción",rows:"2",counter:"2000",rules:[t=>t.length<=60]||0},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),e(h.Z,{attrs:{label:"¿Quieres añadir subtareas?"},model:{value:t.haveAditionalTasks,callback:function(e){t.haveAditionalTasks=e},expression:"haveAditionalTasks"}}),t.haveAditionalTasks?[t._l(t.aditionalTasks,(function(a,s){return e(g.Z,{key:s,staticClass:"ma-0 pa-0"},[e(m.Z,{attrs:{cols:"10"}},[e(Z.Z,{attrs:{"append-icon":"check_circle"},model:{value:t.aditionalTasks[s].title,callback:function(e){t.$set(t.aditionalTasks[s],"title",e)},expression:"aditionalTasks[index].title"}})],1),e(m.Z,{attrs:{cols:"2",align:"center","align-self":"center"}},[e(o.Z,{attrs:{large:"",icon:"",color:"error"},on:{click:function(e){return t.aditionalTasks.splice(s,1)}}},[e(r.Z,[t._v("delete")])],1)],1)],1)})),e(f.h7,[e(g.Z,{staticClass:"ma-0 pa-0"},[e(m.Z,{attrs:{cols:"12"}},[e(o.Z,{attrs:{block:"",color:"primary"},on:{click:function(e){return t.aditionalTasks.push({complete:!1})}}},[e(r.Z,{attrs:{left:""}},[t._v("add")]),t._v("Añadir una nueva tarea ")],1)],1)],1)],1)]:t._e(),e(f.h7,[e(g.Z,{staticClass:"ma-0 pa-0",attrs:{align:"center",justify:"center"}},[e(m.Z,{attrs:{"align-self":"center",cols:"12",sm:"6"}},[e(o.Z,{attrs:{block:"",color:"primary"},on:{click:t.save}},[e(r.Z,{attrs:{left:""}},[t._v("save")]),t._v("Guardar cambios ")],1)],1),e(m.Z,{attrs:{"align-self":"center",cols:"12",sm:"6"}},[e(o.Z,{attrs:{block:"",color:"error"},on:{click:t.cancel}},[e(r.Z,{attrs:{left:""}},[t._v("cancel")]),t._v("Cancelar ")],1)],1)],1)],1)],2)],1)],1)},L=[],Q={name:"edit-task",props:{value:{type:Object,required:!0},open:{type:Boolean,required:!0}},data(){return{title:this.value.title,description:this.value.description,haveAditionalTasks:this.value.haveAditionalTasks,aditionalTasks:this.value.aditionalTasks?this.value.aditionalTasks.map((t=>({complete:t.complete,title:t.title}))):[]}},computed:{dialog:{get(){return this.open},set(t){t||this.$emit("close")}}},methods:{save(){this.$emit("input",{title:this.title,description:this.description,aditionalTasks:this.aditionalTasks,completed:this.value.completed,haveAditionalTasks:this.haveAditionalTasks,id:this.value.id}),this.$emit("close")},cancel(){this.$emit("close")}}},V=Q,K=(0,P.Z)(V,G,L,!1,null,null,null),U=K.exports,X=function(){var t=this,e=t._self._c;return e(v.Z,{attrs:{persistent:"","max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(p.Z,[e(f.EB,[t._v("¿Estas seguro de eliminar la tarea?")]),e(f.ZB,[e(D.Z),t._v(" Una vez eliminada la tarea no podrá recuperarse. ")],1),e(f.h7,[e(g.Z,{staticClass:"pa-0 ma-0"},[e(m.Z,{attrs:{cols:"12",sm:"6"}},[e(o.Z,{attrs:{block:"",color:"error"},on:{click:t.deleteTask}},[t._v("si")])],1),e(m.Z,{attrs:{cols:"12",sm:"6"}},[e(o.Z,{attrs:{block:"",color:"blue"},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("No")])],1)],1)],1)],1)],1)},H=[],J={name:"delete-task",props:{value:{type:Boolean,required:!0}},computed:{dialog:{get(){return this.value},set(t){this.$emit("input",t)}}},methods:{deleteTask(){this.$emit("delete-task"),this.$emit("input",!1)}}},W=J,Y=(0,P.Z)(W,X,H,!1,null,null,null),tt=Y.exports,et={name:"task-admin",components:{EditTask:U,DeleteTask:tt},props:{value:{type:Object,required:!0}},data(){return{taskInfoState:!1,editTask:!1,deleteTask:!1}},methods:{inputEditTask(t){this.$emit("input",t)}},computed:{task:{get(){return this.value},set(t){console.log("setted"),this.$emit("input",t)}},isChecked(){return 100==this.progress},progress(){if(this.task.haveAditionalTasks){const t=this.task.aditionalTasks.length;let e=0;return this.task.aditionalTasks.forEach((t=>{t.complete&&e++})),0===e?0:100*e/t}return this.task.completed?100:0}},watch:{"task.completed":{handler(t){t&&(this.task.aditionalTaks=this.task.aditionalTasks.map((t=>(t.complete=!0,t)))),this.$emit("input",this.task)}},progress:{handler(){this.task.aditionalTasks.forEach((t=>{t.complete||(this.task.completed=!1)})),this.$emit("input",this.task)}}}},at=et,st=(0,P.Z)(at,z,R,!1,null,null,null),it=st.exports,nt={name:"tasks-viewer",components:{Task:it},props:{newTask:{type:Boolean,required:!0}},data(){return{tasks:[]}},watch:{newTask(t){console.log("change: ",t),t&&(this.fetchTasks(),this.$emit("task-added"))}},created(){this.fetchTasks()},methods:{async fetchTasks(){this.tasks=await B.getAll()},async inputTask(t,e){this.tasks[t]=e,await B.update(e)},async deleteTask(t,e){this.tasks.splice(t,1),await B["delete"](e.id)}}},ot=nt,rt=(0,P.Z)(ot,q,N,!1,null,null,null),lt=rt.exports,ct={components:{NewTaskForm:F,TasksViewer:lt},name:"App",data(){return{newTask:!1,taskFormState:!1}}},dt=ct,ut=(0,P.Z)(dt,u,k,!1,null,null,null),kt=ut.exports,pt=a(3806);s.ZP.use(pt.Z);var ft=new pt.Z({theme:{dark:!0,themes:{light:{primary:"#9c27b0",secondary:"#7c4dff",accent:"#8e24aa",error:"#f44336",warning:"#ffeb3b",info:"#2196f3",success:"#4caf50",background:"#f5f5f5",surface:"#ffffff"},dark:{primary:"#6a1b9a",secondary:"#4527a0",accent:"#4a148c",error:"#ef5350",warning:"#ffea00",info:"#1976d2",success:"#66bb6a",background:"#121212",surface:"#1e1e1e"}}}}),ht=a(5205);(0,ht.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),s.ZP.config.productionTip=!1,new s.ZP({vuetify:ft,render:t=>t(kt)}).$mount("#app")}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,n){if(!s){var o=1/0;for(d=0;d<t.length;d++){s=t[d][0],i=t[d][1],n=t[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[s,i,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,n,o=s[0],r=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var d=l(a)}for(e&&e(s);c<o.length;c++)n=o[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8499)}));s=a.O(s)})();
//# sourceMappingURL=app.45e31b61.js.map